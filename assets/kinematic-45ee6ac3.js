import{t as D,B as _,d as c,e as y,u as C,C as F,M as K,N as A,c as f,R as N,a as m,f as u,s as w,g as X}from"./index-1601f4b8.js";import{b as e,h as o}from"./boxes-ba82228b.js";import{r as z}from"./colors-e29a5892.js";var n;(function(a){a[a.DYNAMIC_DYNAMIC=1]="DYNAMIC_DYNAMIC",a[a.DYNAMIC_KINEMATIC=12]="DYNAMIC_KINEMATIC",a[a.DYNAMIC_FIXED=2]="DYNAMIC_FIXED",a[a.KINEMATIC_KINEMATIC=52224]="KINEMATIC_KINEMATIC",a[a.KINEMATIC_FIXED=8704]="KINEMATIC_FIXED",a[a.FIXED_FIXED=32]="FIXED_FIXED",a[a.DEFAULT=15]="DEFAULT",a[a.ALL=60943]="ALL"})(n||(n={}));var s;(function(a){a[a.Density=0]="Density",a[a.Mass=1]="Mass",a[a.MassProps=2]="MassProps"})(s||(s={}));const{scene:Y}=D(),b=new _(2,2,2),L=new c({color:"lightblue"}),t=new y(b,L);t.name="player";Y.add(t);t.position.set(0,1,0);const{update:B}=D(),{keyboard:E}=C(),M=new F,d=new K,I=15;for(let a=0;a<A;a+=1)M.set(z()),e.setColorAt(a,M),d.setPosition(Math.random()*I-I/2,2,Math.random()*I-I/2),e.setMatrixAt(a,d);e.instanceColor.needsUpdate=!0;await f(e,{type:N.Dynamic,collider:m.Cuboid,hx:o,hy:o,hz:o});const x=await u(t,{type:N.KinematicPositionBased,collider:m.Cuboid,hx:1,hy:1,hz:1});w(x,n.DEFAULT|n.KINEMATIC_FIXED);B(()=>{const{position:a,quaternion:r,rotation:h}=t;a.x+=E.x/5,a.z-=E.y/5,h.y+=.1,X(x,{x:a.x,y:a.y,z:a.z},{x:r.x,y:r.y,z:r.z,w:r.w})});
